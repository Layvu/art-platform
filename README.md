## Запуск проекта:

### 1) Установить пакеты, добавить payload клиент

pnpm install
pnpm add -D payload

### 2) Поднять БД + dev сервер Next + Payload

pnpm dev

## Отдельно поднять и потушить БД

docker compose up -d

docker compose down

## Проверить состояние

docker compose ps

## URLs:

- frontend: http://localhost:3000
- payload admin: http://localhost:3000/admin
- api: http://localhost:3000/api/products

## Заметки

в next js правильный подход такой:

- Каждая папка в app - отдельный роут.
- Если папка в круглых скобках, то новый роут не создаётся - это группирующая папка, которая не влияет на URL, но позволяет создавать внутри неё роуты и применять для них общий layout, loading, error и т.п. к группе страниц
- Если папка в квадратных скобках - значит этот путь является динамическим, значение которого доступно через params в компоненте. Если он лежит в другой папке, то роут складывается из внешней папки и внутренней: папка products, в ней [product] => products/some_product.
- При этом в каждой папке должен быть обязательно page.tsx - это серверный компонент, без него не будет обнаружен роут. Рядом можно создать клиентский файл, тот же Product.tsx где описать клиентскую логику с хуками, указав 'use client'
- Хороший подход - в page.tsx фетчи, работа с бд, логика, в клиентском файле хуки, вёрстка, работа с отображением


Клиентская работа с параметрами заключается в том, чтобы не перезагружать страницу, а отрисовывать на существующей, например, новое модальное окно/фильтр и при это менять параметры роута. В остальном лучше использовать серверные переходы между страницами для SEO и производительности

Dynamic Import Converter for Next.js - для ленивой загрузки компонентов
